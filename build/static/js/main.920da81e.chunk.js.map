{"version":3,"sources":["components/Modals/Modal.jsx","utils/Game.js","components/field.js","components/steps.js","components/Game.js","App.js","models/index.js","serviceWorker.js","index.js"],"names":["useStyles","makeStyles","theme","modal","display","alignItems","justifyContent","paper","backgroundColor","palette","background","boxShadow","shadows","padding","spacing","connect","state","handleModal","handleGameStart","gameStart","classes","Modal","aria-labelledby","aria-describedby","className","open","onClose","closeAfterTransition","BackdropComponent","Backdrop","BackdropProps","timeout","Fade","in","id","Button","variant","color","onClick","Random","from","this","to","Math","ceil","floor","random","steps","getRandomNum","length","Game","size","field","path","pathSteps","step","prevStep","start","i","j","pos","getStartPosition","push","ps","getRandomStep","includes","nextPos","getNextStep","arr","countOfSteps","createGameField","setStartPosition","setNextStep","finishedField","map","slice","Cell","styled","purple","gameField","finishPos","animateSteps","stepsCount","setGameField","setRestartGame","restartGame","setAnimateSteps","useState","show","setShow","fI","fJ","console","log","el","key","e","setTimeout","alert","anwerHendler","isRight","StepsMain","div","Item","lightGreen","stepsArrows","Collapse","GameMain","setSteps","pushStep","setFinishPos","useEffect","game","GameEngine","startGame","getFinishedField","getPathSteps","getFinishPos","iId","setInterval","clearInterval","asyncStack","CircularProgress","AppMain","style","delay","time","Promise","resolve","count","reducers","addBy","payload","remove","effects","dispatch","addByAsync","removeAsync","setStepsCount","Boolean","window","location","hostname","match","store","init","models","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.920da81e.chunk.js","sourcesContent":["import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Modal from '@material-ui/core/Modal';\r\nimport Backdrop from '@material-ui/core/Backdrop';\r\nimport Fade from '@material-ui/core/Fade';\r\nimport { connect } from \"react-redux\";\r\nimport Button from '@material-ui/core/Button';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  modal: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  paper: {\r\n    backgroundColor: theme.palette.background.paper,\r\n    boxShadow: theme.shadows[5],\r\n    padding: theme.spacing(2, 4, 3),\r\n  },\r\n}));\r\n\r\nfunction TransitionsModal({ modal, handleModal, handleGameStart }) {\r\n  const classes = useStyles();\r\n\r\n  const startGame = () => {\r\n    handleGameStart();\r\n    handleModal();\r\n    return;\r\n  }\r\n  return (\r\n    <Modal\r\n      aria-labelledby=\"transition-modal-title\"\r\n      aria-describedby=\"transition-modal-description\"\r\n      className={classes.modal}\r\n      open={modal}\r\n      onClose={() => handleModal()}\r\n      closeAfterTransition\r\n      BackdropComponent={Backdrop}\r\n      BackdropProps={{\r\n        timeout: 500,\r\n      }}\r\n    >\r\n      <Fade in={modal}>\r\n        <div className={classes.paper}>\r\n          <h2 id=\"transition-modal-title\">–í–æ—Ç, —á—Ç–æ —Ç–µ–±—è –∂–¥–µ—Ç</h2>\r\n          <p id=\"transition-modal-description\">–î–≤–∏–≥–∞–π—Å—è –≤ –ª–∞–±–∏—Ä–∏–Ω—Ç–µ –ø–æ —Å—Ç—Ä–µ–ª–∫–∞–º.</p>\r\n\r\n          <Button variant=\"contained\" color=\"primary\" onClick={startGame}>\r\n            –ü–æ–Ω—è—Ç–Ω–æ, –Ω–∞—á–∞—Ç—å –∏–≥—Ä—É\r\n          </Button>\r\n        </div>\r\n\r\n      </Fade>\r\n\r\n    </Modal>\r\n\r\n  );\r\n}\r\n\r\nconst mapState = (state) => {\r\n  return {\r\n    modal: state.modal,\r\n  };\r\n};\r\n\r\nconst mapDispatch = ({ modal: { handleModal }, gameStart: { handleGameStart } }) => ({\r\n  handleModal: () => handleModal(),\r\n  handleGameStart: () => handleGameStart(),\r\n\r\n});\r\nexport default connect(mapState, mapDispatch)(TransitionsModal);","class Random {\r\n  from = 0;\r\n  to = 3;\r\n\r\n  constructor(from = this.from, to = this.to) {\r\n    this.from = from;\r\n    this.to = to;\r\n  }\r\n\r\n  getRandomNum(from = this.from, to = this.to) {\r\n    from = Math.ceil(from);\r\n    to = Math.floor(to);\r\n    return Math.floor(Math.random() * (to - from + 1)) + from;\r\n  }\r\n\r\n  getRandomStep(steps) {\r\n    return steps[this.getRandomNum(0, steps.length - 1)];\r\n  }\r\n}\r\n\r\nclass Game {\r\n  field = [];\r\n  size = 3;\r\n  steps = ['up', 'down', 'left', 'right'];\r\n  path = [];\r\n  pathSteps = [];\r\n  step = 1;\r\n  prevStep = null;\r\n  start = true;\r\n  random = new Random();\r\n\r\n  constructor(size = this.size) {\r\n    this.size = size;\r\n  }\r\n\r\n  getStartPosition() {\r\n    return {\r\n      i: this.random.getRandomNum(0, this.field.length - 1),\r\n      j: this.random.getRandomNum(0, this.field.length - 1),\r\n    };\r\n  }\r\n\r\n  setStartPosition() {\r\n    if (!this.start) return false;\r\n    const pos = this.getStartPosition();\r\n    this.field[pos.i][pos.j] = this.step;\r\n    this.step += 1;\r\n    this.prevStep = pos;\r\n    this.path.push(pos);\r\n    this.start = false;\r\n    return true;\r\n  }\r\n\r\n  getNextStep() {\r\n    const ps = this.prevStep;\r\n    for (let i = 0; i < this.size ** 2; i++) {\r\n      let step = this.random.getRandomStep(this.steps);\r\n      if (!this.path.includes(this.path[this.path.length - 1])) {\r\n        step = this.random.getRandomStep(this.steps);\r\n      } else if (step === this.path[this.path.length - 1]) { //—Å–æ–∫—Ä–∞—â–∞–µ—Ç —à–∞–Ω—Å –≤—ã–ø–∞–¥–∞–Ω–∏—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —à–∞–≥–æ–≤ –ø–æ–¥—Ä—è–¥\r\n        step = this.random.getRandomStep(this.steps);\r\n      }\r\n      switch (step) {\r\n        case 'up':\r\n          if (ps.i - 1 >= 0) {\r\n            this.pathSteps.push(step);\r\n            return {i: ps.i - 1, j: ps.j};\r\n          }\r\n          break;\r\n        case 'down':\r\n          if (ps.i + 1 <= this.field.length - 1) {\r\n            this.pathSteps.push(step);\r\n            return {i: ps.i + 1, j: ps.j};\r\n          }\r\n          break;\r\n        case 'left':\r\n          if (ps.j - 1 >= 0) {\r\n            this.pathSteps.push(step);\r\n            return {i: ps.i, j: ps.j - 1};\r\n          }\r\n          break;\r\n        case 'right':\r\n          if (ps.j + 1 <= this.field.length - 1) {\r\n            this.pathSteps.push(step);\r\n            return {i: ps.i, j: ps.j + 1};\r\n          }\r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n\r\n  setNextStep() {\r\n    const nextPos = this.getNextStep();\r\n    this.path.push(nextPos);\r\n    this.step += 1;\r\n    this.prevStep = nextPos;\r\n  }\r\n\r\n  createGameField(size = this.size) {\r\n    const arr = [];\r\n    for (let i = 0; i < size; i++) {\r\n      arr[i] = [];\r\n      for (let j = 0; j < size; j++) {\r\n        arr[i][j] = 0;\r\n      }\r\n    }\r\n    return arr;\r\n  }\r\n\r\n  startGame(countOfSteps = 10) {\r\n    this.field = this.createGameField();\r\n    this.setStartPosition();\r\n    for (let i = 0; i < countOfSteps; i++) {\r\n      this.setNextStep();\r\n    }\r\n  }\r\n\r\n  getPath() {\r\n    return this.path;\r\n  }\r\n\r\n  getPathSteps() {\r\n    return this.pathSteps;\r\n  }\r\n\r\n  getField() {\r\n    return this.field;\r\n  }\r\n\r\n  getFinishPos() {\r\n    return this.prevStep;\r\n  }\r\n\r\n  getFinishedField() {\r\n    const finishedField = this.field.map(function (arr) {\r\n      return arr.slice();\r\n    });\r\n    finishedField[this.prevStep.i][this.prevStep.j] = 2;\r\n    return finishedField;\r\n  }\r\n}\r\n\r\nexport default Game","import React, { useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport Button from '@material-ui/core/Button';\r\nimport styled from 'styled-components';\r\n\r\nimport { purple } from '@material-ui/core/colors';\r\n\r\nconst Cell = styled(Button)`\r\n  margin: 10px !important;\r\n  width: 100px !important;\r\n  height: 100px !important;\r\n  font-size: 1.5rem !important;\r\n  background-color: ${purple[400]} !important;\r\n  &:hover {\r\n    background-color: ${purple[700]} !important;\r\n  }\r\n`;\r\n\r\nfunction Field({\r\n  gameField,\r\n  finishPos,\r\n  setRestartGame,\r\n  setAnimateSteps,\r\n  steps,\r\n  stepsCount\r\n}) {\r\n  const [show, setShow] = useState({ pos: { i: -1, j: -1 }, show: false });\r\n  const { i: fI, j: fJ } = finishPos;\r\n  console.log(fI, fJ);\r\n  const anwerHendler = (e, { i, j }) => {\r\n    if(steps.length===stepsCount){\r\n    if (i === fI && j === fJ) {\r\n      setShow({show:true, pos:{ i, j }});\r\n      setAnimateSteps();     \r\n      setTimeout(() => {\r\n        setRestartGame();\r\n        setAnimateSteps();\r\n        setShow({show:false, pos:{ i, j }});\r\n      }, 1000);\r\n    }else{\r\n      setShow({show:true, pos:{ i, j }});\r\n      setAnimateSteps();\r\n      setTimeout(() => {\r\n        setRestartGame();\r\n        setAnimateSteps();\r\n        setShow({show:false, pos:{ i, j }});\r\n      }, 1000);\r\n    }\r\n  }else{\r\n    alert('–ù–µ —Å–ø–µ—à–∏!')\r\n  }\r\n  };\r\n  const isRight = ({ i, j }) => {\r\n    if (i === fI && j === fJ) {\r\n      return 'üëç';\r\n    }\r\n    return 'üëé';\r\n  };\r\n  return (\r\n    <div>\r\n      {\r\n        gameField.map((el, i) => {\r\n          return (\r\n            <div key={i}>\r\n              {el.map((el, j) => {\r\n                return (\r\n                  <Cell\r\n                    key={j}\r\n                    variant='contained'\r\n                    onClick={(e) => anwerHendler(e, { i, j })}\r\n                    color='primary'\r\n                  >\r\n                    {el === 1 ? '–°—Ç–∞—Ä—Ç' : null}\r\n                    {show.show && show.pos.i === i && show.pos.j === j\r\n                      ? isRight({ i, j })\r\n                      : null}\r\n                  </Cell>\r\n                );\r\n              })}\r\n            </div>\r\n          );\r\n        })\r\n      }\r\n    </div>\r\n  );\r\n}\r\n\r\nconst mapState = (state) => {\r\n  return {\r\n    gameField: state.gameField,\r\n    finishPos: state.finishPos,\r\n    animateSteps: state.animateSteps,\r\n    steps: state.steps,\r\n    stepsCount: state.stepsCount,\r\n  };\r\n};\r\n\r\nconst mapDispatch = ({\r\n  gameField: { setGameField },\r\n  restartGame: { setRestartGame },\r\n  animateSteps: { setAnimateSteps },\r\n}) => ({\r\n  setGameField: (field) => setGameField(field),\r\n  setRestartGame: () => setRestartGame(),\r\n  setAnimateSteps: () => setAnimateSteps(),\r\n});\r\nexport default connect(mapState, mapDispatch)(Field);\r\n","import React from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport Collapse from '@material-ui/core/Collapse';\r\nimport styled from \"styled-components\";\r\n\r\nimport {lightGreen} from '@material-ui/core/colors';\r\n\r\nconst StepsMain = styled.div`\r\n    width: 520px;\r\n    min-height: 200px;\r\n`\r\nconst Item = styled.div`\r\n    width: 80px;\r\n    height: 80px;\r\n    border-radius: 5px;\r\n    background-color: ${lightGreen[500]};\r\n    margin: 10px;\r\n    display: inline-flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    color: #fff;\r\n    font-size: 3rem;\r\n    font-weight: 700;\r\n`;\r\n\r\nfunction Steps({steps, animateSteps}) {\r\n  // const [checked, setChecked] = React.useState(true);\r\n  const stepsArrows = {\r\n    'up': '‚Üë',\r\n    'down': '‚Üì',\r\n    'left': '‚Üê',\r\n    'right': '‚Üí'\r\n  }\r\n  return (\r\n    <>\r\n      <Collapse timeout={300} in={animateSteps}>\r\n\r\n        <StepsMain>\r\n          {\r\n            steps.map((el, i) => {\r\n              return <Item key={i}>{stepsArrows[el]}</Item>\r\n            })\r\n          }\r\n        </StepsMain>\r\n      </Collapse></>\r\n  );\r\n}\r\n\r\nconst mapState = (state) => {\r\n  return {\r\n    steps: state.steps,\r\n    animateSteps: state.animateSteps\r\n  };\r\n};\r\n\r\nexport default connect(mapState)(Steps);\r\n","import React, { useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport styled from 'styled-components';\r\nimport GameEngine from '../utils/Game';\r\nimport Field from './field';\r\nimport Steps from './steps';\r\n\r\nconst GameMain = styled.div`\r\n  background-color: #ffffff99;\r\n  width: 80%;\r\n  display: flex;\r\n  justify-content: center;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  min-height:700px;\r\n`;\r\nconst asyncStack = (steps, pushStep) => {\r\n  let i = 0;\r\n  let iId = setInterval(() => {\r\n    pushStep(steps[i]);\r\n    if (steps.length - 1 > i) {\r\n      i++;\r\n    } else {\r\n      clearInterval(iId);\r\n    }\r\n  }, 700);\r\n};\r\n\r\nfunction Game({\r\n  gameField,\r\n  setGameField,\r\n  setSteps,\r\n  pushStep,\r\n  setFinishPos,\r\n  restartGame,\r\n  stepsCount\r\n}) {\r\n  useEffect(() => {\r\n    const game = new GameEngine(3);\r\n    game.startGame(stepsCount);\r\n    console.log(game.getFinishedField());\r\n    console.log(game.getPathSteps());\r\n    console.log(game.getFinishPos());\r\n    console.log(game.prevStep);\r\n    setFinishPos(game.getFinishPos());\r\n    setSteps([]);\r\n    asyncStack(game.getPathSteps(), pushStep);\r\n    setGameField(game.getFinishedField());\r\n  }, [pushStep, restartGame, setFinishPos, setGameField, setSteps, stepsCount]);\r\n\r\n  return (\r\n    <GameMain>\r\n      {gameField ? (\r\n        <>\r\n          <Field />\r\n          <Steps />\r\n        </>\r\n      ) : (\r\n        <CircularProgress />\r\n      )}\r\n    </GameMain>\r\n  );\r\n}\r\n\r\nconst mapState = (state) => {\r\n  return {\r\n    gameField: state.gameField,\r\n    restartGame: state.restartGame,\r\n    stepsCount: state.stepsCount,\r\n  };\r\n};\r\n\r\nconst mapDispatch = ({\r\n  gameField: { setGameField },\r\n  steps: { setSteps, pushStep },\r\n  finishPos: { setFinishPos },\r\n}) => ({\r\n  setGameField: (field) => setGameField(field),\r\n  setSteps: (steps) => setSteps(steps),\r\n  pushStep: (step) => pushStep(step),\r\n  setFinishPos: (pos) => setFinishPos(pos),\r\n});\r\nexport default connect(mapState, mapDispatch)(Game);\r\n","import React from 'react';\nimport {connect} from \"react-redux\";\nimport './App.css';\nimport Modal from \"./components/Modals/Modal\";\nimport Button from \"@material-ui/core/Button\";\nimport styled from \"styled-components\";\nimport Game from \"./components/Game\";\n\nconst AppMain = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 100vh;\n`;\n\nfunction App({ modal, handleModal, gameStart}) {\n  return (\n    <AppMain>\n      <Modal/>\n      {\n        gameStart ? (<Game/>) : (\n          <Button style={{display: modal ? 'none' : 'inline-block'}} variant=\"contained\" color=\"primary\"\n                  onClick={() => handleModal()}>\n            –ù–∞—á–∞—Ç—å –∏–≥—Ä—É\n          </Button>)\n      }\n    </AppMain>\n  );\n}\n\nconst mapState = (state) => {\n  return {\n    modal: state.modal,\n    gameStart: state.gameStart\n  };\n};\n\nconst mapDispatch = ({modal: {handleModal}}) => ({\n  handleModal: () => handleModal(),\n});\nexport default connect(mapState, mapDispatch)(App);\n","// function to create a one second delay\r\nconst delay = time => new Promise(resolve => setTimeout(() => resolve(), time));\r\n\r\n// count model\r\nexport const count = {\r\n  state: 0,\r\n  reducers: {\r\n    addBy(state, payload) {\r\n      return state + payload;\r\n    },\r\n    remove(state) {\r\n      return --state;\r\n    }\r\n  },\r\n  effects: dispatch => ({\r\n    async addByAsync(payload, state) {\r\n      await delay(1000);\r\n      dispatch.count.addBy(1);\r\n    },\r\n    async removeAsync() {\r\n      await delay(1000);\r\n      dispatch.count.remove();\r\n    }\r\n  })\r\n};\r\n\r\nexport const modal = {\r\n  state: false,\r\n  reducers: {\r\n    handleModal(state) {\r\n      return !state;\r\n    }\r\n  }\r\n};\r\nexport const gameStart = {\r\n  state: false,\r\n  reducers: {\r\n    handleGameStart(state) {\r\n      return !state;\r\n    }\r\n  }\r\n};\r\nexport const finishPos = {\r\n  state: null,\r\n  reducers: {\r\n    setFinishPos(state, payload) {\r\n      return payload;\r\n    }\r\n  }\r\n};\r\nexport const restartGame = {\r\n  state: 0,\r\n  reducers: {\r\n    setRestartGame(state) {\r\n      return state += 1;\r\n    }\r\n  }\r\n};\r\nexport const stepsCount = {\r\n  state: 10,\r\n  reducers: {\r\n    setStepsCount(state, payload) {\r\n      return payload;\r\n    }\r\n  }\r\n};\r\nexport const animateSteps = {\r\n  state: true,\r\n  reducers: {\r\n    setAnimateSteps(state) {\r\n      return !state;\r\n    }\r\n  }\r\n};\r\nexport const gameField = {\r\n  state: null,\r\n  reducers: {\r\n    setGameField(state, payload) {\r\n      return payload;\r\n    }\r\n  }\r\n};\r\nexport const steps = {\r\n  state: [],\r\n  reducers: {\r\n    setSteps(state, payload) {\r\n      return payload;\r\n    },\r\n    pushStep(state, payload) {\r\n      console.log(payload);\r\n      return [...state, payload];\r\n    },\r\n  }\r\n};","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { init } from \"@rematch/core\";\nimport { Provider } from \"react-redux\";\nimport * as models from \"./models\";\nimport * as serviceWorker from './serviceWorker';\nconst store = init({\n  models,\n});\n\nReactDOM.render(\n  // <React.StrictMode>\n    <Provider store={store}>\n    <App />\n    </Provider>,\n  // </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}