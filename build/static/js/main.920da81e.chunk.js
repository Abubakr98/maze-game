(this["webpackJsonpmaze-game"]=this["webpackJsonpmaze-game"]||[]).push([[0],{58:function(t,e,n){t.exports=n(72)},63:function(t,e,n){},68:function(t,e,n){},72:function(t,e,n){"use strict";n.r(e);var r={};n.r(r),n.d(r,"count",(function(){return Q})),n.d(r,"modal",(function(){return U})),n.d(r,"gameStart",(function(){return V})),n.d(r,"finishPos",(function(){return X})),n.d(r,"restartGame",(function(){return Y})),n.d(r,"stepsCount",(function(){return Z})),n.d(r,"animateSteps",(function(){return _})),n.d(r,"gameField",(function(){return tt})),n.d(r,"steps",(function(){return et}));var a=n(0),i=n.n(a),s=n(3),o=n.n(s),u=(n(63),n(13)),c=n(9),l=(n(68),n(95)),h=n(103),d=n(98),p=n(73),f=n(104),m=Object(l.a)((function(t){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:t.palette.background.paper,boxShadow:t.shadows[5],padding:t.spacing(2,4,3)}}}));var v=Object(c.b)((function(t){return{modal:t.modal}}),(function(t){var e=t.modal.handleModal,n=t.gameStart.handleGameStart;return{handleModal:function(){return e()},handleGameStart:function(){return n()}}}))((function(t){var e=t.modal,n=t.handleModal,r=t.handleGameStart,a=m();return i.a.createElement(h.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:a.modal,open:e,onClose:function(){return n()},closeAfterTransition:!0,BackdropComponent:d.a,BackdropProps:{timeout:500}},i.a.createElement(p.a,{in:e},i.a.createElement("div",{className:a.paper},i.a.createElement("h2",{id:"transition-modal-title"},"\u0412\u043e\u0442, \u0447\u0442\u043e \u0442\u0435\u0431\u044f \u0436\u0434\u0435\u0442"),i.a.createElement("p",{id:"transition-modal-description"},"\u0414\u0432\u0438\u0433\u0430\u0439\u0441\u044f \u0432 \u043b\u0430\u0431\u0438\u0440\u0438\u043d\u0442\u0435 \u043f\u043e \u0441\u0442\u0440\u0435\u043b\u043a\u0430\u043c."),i.a.createElement(f.a,{variant:"contained",color:"primary",onClick:function(){r(),n()}},"\u041f\u043e\u043d\u044f\u0442\u043d\u043e, \u043d\u0430\u0447\u0430\u0442\u044c \u0438\u0433\u0440\u0443"))))})),g=n(14),S=n(102),j=n(38),b=n(39),y=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.from,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.to;Object(j.a)(this,t),this.from=0,this.to=3,this.from=e,this.to=n}return Object(b.a)(t,[{key:"getRandomNum",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.from,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.to;return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t+1))+t}},{key:"getRandomStep",value:function(t){return t[this.getRandomNum(0,t.length-1)]}}]),t}(),k=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.size;Object(j.a)(this,t),this.field=[],this.size=3,this.steps=["up","down","left","right"],this.path=[],this.pathSteps=[],this.step=1,this.prevStep=null,this.start=!0,this.random=new y,this.size=e}return Object(b.a)(t,[{key:"getStartPosition",value:function(){return{i:this.random.getRandomNum(0,this.field.length-1),j:this.random.getRandomNum(0,this.field.length-1)}}},{key:"setStartPosition",value:function(){if(!this.start)return!1;var t=this.getStartPosition();return this.field[t.i][t.j]=this.step,this.step+=1,this.prevStep=t,this.path.push(t),this.start=!1,!0}},{key:"getNextStep",value:function(){for(var t=this.prevStep,e=0;e<Math.pow(this.size,2);e++){var n=this.random.getRandomStep(this.steps);switch(this.path.includes(this.path[this.path.length-1])?n===this.path[this.path.length-1]&&(n=this.random.getRandomStep(this.steps)):n=this.random.getRandomStep(this.steps),n){case"up":if(t.i-1>=0)return this.pathSteps.push(n),{i:t.i-1,j:t.j};break;case"down":if(t.i+1<=this.field.length-1)return this.pathSteps.push(n),{i:t.i+1,j:t.j};break;case"left":if(t.j-1>=0)return this.pathSteps.push(n),{i:t.i,j:t.j-1};break;case"right":if(t.j+1<=this.field.length-1)return this.pathSteps.push(n),{i:t.i,j:t.j+1}}}return!1}},{key:"setNextStep",value:function(){var t=this.getNextStep();this.path.push(t),this.step+=1,this.prevStep=t}},{key:"createGameField",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.size,e=[],n=0;n<t;n++){e[n]=[];for(var r=0;r<t;r++)e[n][r]=0}return e}},{key:"startGame",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;this.field=this.createGameField(),this.setStartPosition();for(var e=0;e<t;e++)this.setNextStep()}},{key:"getPath",value:function(){return this.path}},{key:"getPathSteps",value:function(){return this.pathSteps}},{key:"getField",value:function(){return this.field}},{key:"getFinishPos",value:function(){return this.prevStep}},{key:"getFinishedField",value:function(){var t=this.field.map((function(t){return t.slice()}));return t[this.prevStep.i][this.prevStep.j]=2,t}}]),t}(),F=n(52),w=n(99);function E(){var t=Object(u.a)(["\n  margin: 10px !important;\n  width: 100px !important;\n  height: 100px !important;\n  font-size: 1.5rem !important;\n  background-color: "," !important;\n  &:hover {\n    background-color: "," !important;\n  }\n"]);return E=function(){return t},t}var x=Object(g.a)(f.a)(E(),w.a[400],w.a[700]);var G=Object(c.b)((function(t){return{gameField:t.gameField,finishPos:t.finishPos,animateSteps:t.animateSteps,steps:t.steps,stepsCount:t.stepsCount}}),(function(t){var e=t.gameField.setGameField,n=t.restartGame.setRestartGame,r=t.animateSteps.setAnimateSteps;return{setGameField:function(t){return e(t)},setRestartGame:function(){return n()},setAnimateSteps:function(){return r()}}}))((function(t){var e=t.gameField,n=t.finishPos,r=t.setRestartGame,s=t.setAnimateSteps,o=t.steps,u=t.stepsCount,c=Object(a.useState)({pos:{i:-1,j:-1},show:!1}),l=Object(F.a)(c,2),h=l[0],d=l[1],p=n.i,f=n.j;return console.log(p,f),i.a.createElement("div",null,e.map((function(t,e){return i.a.createElement("div",{key:e},t.map((function(t,n){return i.a.createElement(x,{key:n,variant:"contained",onClick:function(t){return function(t,e){var n=e.i,a=e.j;o.length===u?(d({show:!0,pos:{i:n,j:a}}),s(),setTimeout((function(){r(),s(),d({show:!1,pos:{i:n,j:a}})}),1e3)):alert("\u041d\u0435 \u0441\u043f\u0435\u0448\u0438!")}(0,{i:e,j:n})},color:"primary"},1===t?"\u0421\u0442\u0430\u0440\u0442":null,h.show&&h.pos.i===e&&h.pos.j===n?function(t){var e=t.i,n=t.j;return e===p&&n===f?"\ud83d\udc4d":"\ud83d\udc4e"}({i:e,j:n}):null)})))})))})),O=n(101),P=n(100);function C(){var t=Object(u.a)(["\n    width: 80px;\n    height: 80px;\n    border-radius: 5px;\n    background-color: ",";\n    margin: 10px;\n    display: inline-flex;\n    align-items: center;\n    justify-content: center;\n    color: #fff;\n    font-size: 3rem;\n    font-weight: 700;\n"]);return C=function(){return t},t}function M(){var t=Object(u.a)(["\n    width: 520px;\n    min-height: 200px;\n"]);return M=function(){return t},t}var R=g.a.div(M()),N=g.a.div(C(),P.a[500]);var z=Object(c.b)((function(t){return{steps:t.steps,animateSteps:t.animateSteps}}))((function(t){var e=t.steps,n=t.animateSteps,r={up:"\u2191",down:"\u2193",left:"\u2190",right:"\u2192"};return i.a.createElement(i.a.Fragment,null,i.a.createElement(O.a,{timeout:300,in:n},i.a.createElement(R,null,e.map((function(t,e){return i.a.createElement(N,{key:e},r[t])})))))}));function A(){var t=Object(u.a)(["\n  background-color: #ffffff99;\n  width: 80%;\n  display: flex;\n  justify-content: center;\n  flex-direction: column;\n  align-items: center;\n  min-height:700px;\n"]);return A=function(){return t},t}var B=g.a.div(A());var I=Object(c.b)((function(t){return{gameField:t.gameField,restartGame:t.restartGame,stepsCount:t.stepsCount}}),(function(t){var e=t.gameField.setGameField,n=t.steps,r=n.setSteps,a=n.pushStep,i=t.finishPos.setFinishPos;return{setGameField:function(t){return e(t)},setSteps:function(t){return r(t)},pushStep:function(t){return a(t)},setFinishPos:function(t){return i(t)}}}))((function(t){var e=t.gameField,n=t.setGameField,r=t.setSteps,s=t.pushStep,o=t.setFinishPos,u=t.restartGame,c=t.stepsCount;return Object(a.useEffect)((function(){var t=new k(3);t.startGame(c),console.log(t.getFinishedField()),console.log(t.getPathSteps()),console.log(t.getFinishPos()),console.log(t.prevStep),o(t.getFinishPos()),r([]),function(t,e){var n=0,r=setInterval((function(){e(t[n]),t.length-1>n?n++:clearInterval(r)}),700)}(t.getPathSteps(),s),n(t.getFinishedField())}),[s,u,o,n,r,c]),i.a.createElement(B,null,e?i.a.createElement(i.a.Fragment,null,i.a.createElement(G,null),i.a.createElement(z,null)):i.a.createElement(S.a,null))}));function T(){var t=Object(u.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 100vh;\n"]);return T=function(){return t},t}var J=g.a.div(T());var W=Object(c.b)((function(t){return{modal:t.modal,gameStart:t.gameStart}}),(function(t){var e=t.modal.handleModal;return{handleModal:function(){return e()}}}))((function(t){var e=t.modal,n=t.handleModal,r=t.gameStart;return i.a.createElement(J,null,i.a.createElement(v,null),r?i.a.createElement(I,null):i.a.createElement(f.a,{style:{display:e?"none":"inline-block"},variant:"contained",color:"primary",onClick:function(){return n()}},"\u041d\u0430\u0447\u0430\u0442\u044c \u0438\u0433\u0440\u0443"))})),$=n(50),q=n(51),D=n(31),H=n.n(D),K=n(40),L=function(t){return new Promise((function(e){return setTimeout((function(){return e()}),t)}))},Q={state:0,reducers:{addBy:function(t,e){return t+e},remove:function(t){return--t}},effects:function(t){return{addByAsync:function(e,n){return Object(K.a)(H.a.mark((function e(){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L(1e3);case 2:t.count.addBy(1);case 3:case"end":return e.stop()}}),e)})))()},removeAsync:function(){return Object(K.a)(H.a.mark((function e(){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L(1e3);case 2:t.count.remove();case 3:case"end":return e.stop()}}),e)})))()}}}},U={state:!1,reducers:{handleModal:function(t){return!t}}},V={state:!1,reducers:{handleGameStart:function(t){return!t}}},X={state:null,reducers:{setFinishPos:function(t,e){return e}}},Y={state:0,reducers:{setRestartGame:function(t){return t+1}}},Z={state:10,reducers:{setStepsCount:function(t,e){return e}}},_={state:!0,reducers:{setAnimateSteps:function(t){return!t}}},tt={state:null,reducers:{setGameField:function(t,e){return e}}},et={state:[],reducers:{setSteps:function(t,e){return e},pushStep:function(t,e){return console.log(e),[].concat(Object(q.a)(t),[e])}}};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var nt=Object($.init)({models:r});o.a.render(i.a.createElement(c.a,{store:nt},i.a.createElement(W,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[58,1,2]]]);
//# sourceMappingURL=main.920da81e.chunk.js.map